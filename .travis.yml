language: node_js
node_js:
- '10'
before_install:
- MESSAGE=$(git log --format=%B -n 1 $TRAVIS_COMMIT)
- echo $TRAVIS_COMMIT
- echo ${MESSAGE}
install:
- yarn
test: true
script:
- yarn docs:build
cache: yarn
after_success:
- MESSAGE=$(git log --format=%B -n 1 $TRAVIS_COMMIT)
- cd dist
- cp index.html 404.html
- git init
- git add --all
- git commit -m "${MESSAGE}"
- git push https://${GITHUB_TOKEN}@github.com/rihuachen/rihuachen.github.io.git master -f
env:
  global:
    secure: UaQ+1ENT+P2bS/7eVdn7yxdZfDzYC3SD+vX0LvFdVhXlwv7iNBtbW2uvt/ZNPz6aKfxGBtWXpHmnIdUd1GM+rxqK0WLFYvNmQjLJveWcxZRYeBCHX0PRgGHoRfWBWU0jH5xQf2c5AHRSghuZJoz3SzH3J3d/6We/a7smh3SxOOqUbsOnSUWrzjEENtstvW+ifvBR/UhuiEKjNZiY0QI6r6KTVIZ4NM0yNJgX0XFxB5F91B58YTaeEIawEwnIJLkP4/3FO7pynmY69RB8HOIQpo22/cBAqJtz1oKhcZLFC7zCpfVRhAZGe5qA1JIqMhR3f94cn5h7NQuL8mxP6I3NTOYPsCeQGRKjzhWkEAC1FUD4M9eZIcIvinogTdsWl+lFRUBgWwBVWlGlK+wxpjVFX73EXqPRfhiWFBrc1ppo5905Fx4o335CpLAvtsKNfX5P3m+1dmmcQxEzBrghmmFCIWcmetbqXW9ZDa8vEJcHvHvYorck8HOvsLUmC75KaIglTVAgIhZSDjH285gRuzC2yXHXbIN1d97oCH14Wfyfb7kBXpCxyESKOzNoH6aAIGlfOw9CQkjnLFojuGEuYn9cMfKCii0Q0Md+aYDnKHJ5oJKEheqQCSKnc5MAF+GXBrRAjIMMRrPOR99EvBzRosnkvOV2MQjrPZJhk4H4Wt/u8aY=
